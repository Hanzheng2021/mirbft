{"level":"debug","Logging":"debug","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","UseTLS":false,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","CACertFile":"tls-data/ca.pem","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","KeyFile":"tls-data/auth.key","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","CertFile":"tls-data/auth.pem","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","PriorityConnections":2,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","BasicConnections":4,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","TestConnections":false,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ExcessConnections":1,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ConnectionTestMsgs":4,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ConnectionTestPayload":131072,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1024,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ThroughputCap":131072000,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","StragglerTolerance":1000,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","BatchSizeIncrement":256,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","Orderer":"Pbft","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","Manager":"Mir","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","Failures":0,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","CrashTiming":"Straggler","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","CheckpointInterval":256,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","WatermarkWindowSize":256,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","EpochLength":256,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","SegmentLength":64,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","WaitForCheckpoints":true,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientWatermarkWindowSize":4194304,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientRequestBacklogSize":4194304,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RandomSeed":5279,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","NodeToLeaderRatio":1,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","LeaderPolicy":"Blacklist","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","DefaultLeaderBan":2,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","NumBuckets":64,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","BatchSize":1000,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","DisabledViewChange":false,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ViewChangeTimeout":60000,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientTraceSampling":10,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","EventBufferSize":2097152,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","TraceSampling":1,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientsPerProcess":1,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RequestsPerClient":15360,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientRunTime":30000,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RequestRate":256,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","HardRequestRateLimit":false,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RequestPayloadSize":500,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","SignRequests":true,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientPrivKeyFile":"tls-data/client-ecdsa-256.key","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","ClientPubKeyFile":"tls-data/client-ecdsa-256.pem","time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","PrecomputeRequests":false,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RequestHandlerThreads":32,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","RequestInputChannelBuffer":8192,"time":"2022-11-03T16:36:35+08:00","message":"Config"}
{"level":"debug","BatchVerifier":"external","time":"2022-11-03T16:36:35+08:00","message":"Config"}
08:36:35.428 INF Registered with discovery server. numPeers=4 ownID=2
08:36:35.429 INF Profiling enabled.
08:36:35.429 INF Setting up profiling.
08:36:35.429 INF Started Profiler: CPU
08:36:35.429 INF Started Profiler: BLOCK
08:36:35.429 INF Started Profiler: MUTEX
08:36:35.429 INF Profiler will stop on signal. exit=true
08:36:35.431 INF Tracing will stop on signal. exit=false
08:36:35.432 INF Started tracing. traceFile=experiment-output/0000/slave-003/peer.trc
08:36:35.432 DBG Starting backlog.
08:36:35.433 INF Listening for connections. port=10022 useTLS=false
08:36:35.433 INF Connecting to peer. addr=127.0.0.1:10022 basicConns=4 priorityConns=2
08:36:35.433 INF Connecting to peer. addr=127.0.0.1:10011 basicConns=4 priorityConns=2
08:36:35.433 INF Connecting to peer. addr=127.0.0.1:10033 basicConns=4 priorityConns=2
08:36:35.433 INF Connecting to peer. addr=127.0.0.1:10000 basicConns=4 priorityConns=2
08:36:35.461 INF Incoming connection for protocol messages. addr=127.0.0.1:46820
08:36:35.461 INF Incoming connection for protocol messages. addr=127.0.0.1:46848
08:36:35.471 INF Incoming connection for protocol messages. addr=127.0.0.1:46850
08:36:35.471 INF Incoming connection for protocol messages. addr=127.0.0.1:46856
08:36:35.474 INF Incoming connection for protocol messages. addr=127.0.0.1:46878
08:36:35.474 INF Incoming connection for protocol messages. addr=127.0.0.1:46844
08:36:35.476 INF Incoming connection for protocol messages. addr=127.0.0.1:46842
08:36:35.476 INF Incoming connection for protocol messages. addr=127.0.0.1:46862
08:36:35.478 INF Incoming connection for protocol messages. addr=127.0.0.1:46900
08:36:35.478 INF Incoming connection for protocol messages. addr=127.0.0.1:46880
08:36:35.479 INF Incoming connection for protocol messages. addr=127.0.0.1:46912
08:36:35.480 INF Incoming connection for protocol messages. addr=127.0.0.1:46902
08:36:35.480 INF Incoming connection for protocol messages. addr=127.0.0.1:46904
08:36:35.480 INF Incoming connection for protocol messages. addr=127.0.0.1:46922
08:36:35.481 INF Incoming connection for protocol messages. addr=127.0.0.1:46908
08:36:35.481 DBG Connected. peerID=0
08:36:35.482 DBG Connected. peerID=3
08:36:35.482 INF Incoming connection for protocol messages. addr=127.0.0.1:46924
08:36:35.482 INF Incoming connection for protocol messages. addr=127.0.0.1:46950
08:36:35.482 INF Incoming connection for protocol messages. addr=127.0.0.1:46938
08:36:35.483 INF Incoming connection for protocol messages. addr=127.0.0.1:46948
08:36:35.483 INF Incoming connection for protocol messages. addr=127.0.0.1:46954
08:36:35.483 DBG Connected. peerID=1
08:36:35.484 INF Incoming connection for protocol messages. addr=127.0.0.1:46936
08:36:35.484 INF Incoming connection for protocol messages. addr=127.0.0.1:46982
08:36:35.484 INF Incoming connection for protocol messages. addr=127.0.0.1:46984
08:36:35.484 DBG Connected. peerID=2
08:36:35.484 INF Connected to all peers.
08:36:35.484 INF Incoming connection for protocol messages. addr=127.0.0.1:46980
08:36:35.487 INF All peers finished connecting. Starting ISS.
08:36:35.488 DBG Buckets for 0-th leader 0: [0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60]
08:36:35.488 DBG Buckets for 1-th leader 1: [1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61]
08:36:35.488 DBG Buckets for 2-th leader 2: [2 6 10 14 18 22 26 30 34 38 42 46 50 54 58 62]
08:36:35.489 DBG Buckets for 3-th leader 3: [3 7 11 15 19 23 27 31 35 39 43 47 51 55 59 63]
08:36:35.489 INF PbftOrderer received a new segment: [1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 65 69 73 77 81 85 89 93 97 101 105 109 113 117 121 125 129 133 137 141 145 149 153 157 161 165 169 173 177 181 185 189 193 197 201 205 209 213 217 221 225 229 233 237 241 245 249 253] first leader=1 firstSN=1 lastSN=253 len=64 length=64 segId=1
08:36:35.489 INF Starting new view. segID=1 timeout=60000 view=0
08:36:35.489 DBG Starting timer. sn=1 view=0
08:36:35.490 INF Starting PBFT instance. first=1 last=253 segID=1
08:36:35.490 DBG Subscribing to backlog. segID=1
08:36:35.490 INF Starting serialized message processing. segID=1
08:36:35.490 INF PbftOrderer received a new segment: [2 6 10 14 18 22 26 30 34 38 42 46 50 54 58 62 66 70 74 78 82 86 90 94 98 102 106 110 114 118 122 126 130 134 138 142 146 150 154 158 162 166 170 174 178 182 186 190 194 198 202 206 210 214 218 222 226 230 234 238 242 246 250 254] first leader=2 firstSN=2 lastSN=254 len=64 length=64 segId=2
08:36:35.490 INF Starting new view. segID=2 timeout=60000 view=0
08:36:35.491 DBG Starting timer. sn=2 view=0
08:36:35.491 INF Starting PBFT instance. first=2 last=254 segID=2
08:36:35.491 DBG Subscribing to backlog. segID=2
08:36:35.491 DBG Leading segment. segID=2
08:36:35.491 INF Starting serialized message processing. segID=2
08:36:35.491 INF Simulating Straggler. batchTimeout=1998 crashTiming=Straggler
08:36:35.491 DBG Waiting for batch. batchSize=4096
08:36:35.491 INF PbftOrderer received a new segment: [3 7 11 15 19 23 27 31 35 39 43 47 51 55 59 63 67 71 75 79 83 87 91 95 99 103 107 111 115 119 123 127 131 135 139 143 147 151 155 159 163 167 171 175 179 183 187 191 195 199 203 207 211 215 219 223 227 231 235 239 243 247 251 255] first leader=3 firstSN=3 lastSN=255 len=64 length=64 segId=3
08:36:35.492 INF Starting new view. segID=3 timeout=60000 view=0
08:36:35.492 DBG Starting timer. sn=3 view=0
08:36:35.492 INF Starting PBFT instance. first=3 last=255 segID=3
08:36:35.492 DBG Subscribing to backlog. segID=3
08:36:35.492 INF Starting serialized message processing. segID=3
08:36:35.493 INF PbftOrderer received a new segment: [0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60 64 68 72 76 80 84 88 92 96 100 104 108 112 116 120 124 128 132 136 140 144 148 152 156 160 164 168 172 176 180 184 188 192 196 200 204 208 212 216 220 224 228 232 236 240 244 248 252] first leader=0 firstSN=0 lastSN=252 len=64 length=64 segId=0
08:36:35.493 INF Starting new view. segID=0 timeout=60000 view=0
08:36:35.493 DBG Starting timer. sn=0 view=0
08:36:35.493 INF Starting PBFT instance. first=0 last=252 segID=0
08:36:35.494 DBG Subscribing to backlog. segID=0
08:36:35.494 INF Starting serialized message processing. segID=0
08:36:36.498 INF Handling PREPREPARE. nReq=0 senderID=0 sn=0
08:36:36.498 INF Handling PREPREPARE. nReq=0 senderID=1 sn=1
08:36:36.499 DBG Creating new Batch. nReq=0
08:36:36.499 DBG Creating new Batch. nReq=0
08:36:36.498 INF Handling PREPREPARE. nReq=0 senderID=3 sn=3
08:36:36.499 DBG Creating new Batch. nReq=0
08:36:36.499 DBG Sending PREPARE. senderID=2 sn=0 view=0
08:36:36.499 DBG Sending PREPARE. senderID=2 sn=1 view=0
08:36:36.499 DBG Sending PREPARE. senderID=2 sn=3 view=0
08:36:36.499 DBG func sendPrepare prepare Tn. sn=0 tn=1
08:36:36.499 DBG func sendPrepare prepare Tn. sn=1 tn=1
08:36:36.499 DBG func sendPrepare prepare Tn. sn=3 tn=1
08:36:36.499 DBG Sending COMMIT. senderID=2 sn=1 tn=1 view=0
08:36:36.500 DBG Sending COMMIT. senderID=2 sn=0 tn=1 view=0
08:36:36.499 DBG Sending COMMIT. senderID=2 sn=3 tn=1 view=0
08:36:36.500 DBG func sendCommit commit Tn. sn=1 tn=1
08:36:36.500 DBG func sendCommit commit Tn. sn=3 tn=1
08:36:36.500 DBG func sendCommit commit Tn. sn=0 tn=1
08:36:36.500 DBG Sending Htn. senderID=2 sn=1 view=0
08:36:36.500 DBG Sending Htn. senderID=2 sn=3 view=0
08:36:36.500 DBG Sending Htn. senderID=2 sn=0 view=0
==================
WARNING: DATA RACE
Read at 0x00c0001dd5f0 by goroutine 422:
  runtime.mapaccess1_fast64()
      /home/dell/wmj/go/src/runtime/map_fast64.go:12 +0x0
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).sendCommit()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:591 +0x933
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handlePrepare()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:523 +0x69a
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleMessage()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1842 +0x2d4
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).processSerializedMessages()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1805 +0xdb
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment·dwrap·12()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:199 +0x39

Previous write at 0x00c0001dd5f0 by goroutine 416:
  runtime.mapassign_fast64()
      /home/dell/wmj/go/src/runtime/map_fast64.go:92 +0x0
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).sendCommit()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:592 +0x9e4
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handlePrepare()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:523 +0x69a
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleMessage()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1842 +0x2d4
  github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).processSerializedMessages()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1805 +0xdb
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment·dwrap·12()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:199 +0x39

Goroutine 422 (running) created at:
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:199 +0x3f0
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).Start()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:176 +0x355
  main.main·dwrap·5()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:169 +0x59

08:36:36.500 DBG func handleCommit commit Tn. tn=1
Goroutine 416 (running) created at:
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:199 +0x3f0
  github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).Start()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:176 +0x355
  main.main·dwrap·5()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:169 +0x59
==================
08:36:36.501 DBG func handleCommit commit Tn. tn=1
08:36:36.501 DBG func handleCommit commit Tn. tn=1
08:36:36.501 INF Committed entry. latency=0 nReq=0 sn=7
08:36:36.501 DBG func handleCommit commit Tn. tn=1
08:36:36.501 DBG func handleHtnmsg. newhtn=1 prelocalhtn=1 segment=0
panic: assignment to entry in nil map

goroutine 622 [running]:
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).announce(0xc0068a8500, 0xc006f43f10, 0x3, 0x1, 0xc00662e700, 0x0, 0x1724063745dbd978, 0x172406374603ffe6)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:746 +0x44b
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleCommit(0xc0068a8500, 0xc006649920, 0xc00662eb80)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:677 +0x7d6
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).handleMessage(0xc0068a8500, 0xc00662eb80)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1851 +0x850
github.com/hyperledger-labs/mirbft/orderer.(*pbftInstance).processSerializedMessages(0xc0068a8500)
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftinstance.go:1805 +0xdc
created by github.com/hyperledger-labs/mirbft/orderer.(*PbftOrderer).runSegment
	/opt/gopath/src/github.com/hyperledger-labs/mirbft/orderer/pbftorderer.go:199 +0x3f1
