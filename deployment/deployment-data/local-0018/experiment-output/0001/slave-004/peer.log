{"level":"debug","Logging":"debug","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","UseTLS":false,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","CACertFile":"tls-data/ca.pem","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","KeyFile":"tls-data/auth.key","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","CertFile":"tls-data/auth.pem","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","PriorityConnections":2,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","BasicConnections":4,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","TestConnections":false,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ExcessConnections":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ConnectionTestMsgs":4,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ConnectionTestPayload":131072,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1024,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","OutMessageBufsize":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ThroughputCap":131072000,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","StragglerTolerance":1000,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","BatchSizeIncrement":256,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","Orderer":"Pbft","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","Manager":"Mir","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","Failures":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","CrashTiming":"Straggler","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","CheckpointInterval":256,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","WatermarkWindowSize":256,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","EpochLength":256,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","SegmentLength":64,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","WaitForCheckpoints":true,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientWatermarkWindowSize":4194304,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientRequestBacklogSize":4194304,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RandomSeed":14728,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","NodeToLeaderRatio":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","LeaderPolicy":"SimulatedRandomFailures","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","DefaultLeaderBan":2,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","NumBuckets":64,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","BatchSize":1000,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","DisabledViewChange":false,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ViewChangeTimeout":60000,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientTraceSampling":10,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","EventBufferSize":2097152,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","TraceSampling":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientsPerProcess":1,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RequestsPerClient":15360,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientRunTime":30000,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RequestRate":256,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","HardRequestRateLimit":false,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RequestPayloadSize":500,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","SignRequests":true,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientPrivKeyFile":"tls-data/client-ecdsa-256.key","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","ClientPubKeyFile":"tls-data/client-ecdsa-256.pem","time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","PrecomputeRequests":false,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RequestHandlerThreads":32,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","RequestInputChannelBuffer":8192,"time":"2022-08-17T15:22:55+08:00","message":"Config"}
{"level":"debug","BatchVerifier":"external","time":"2022-08-17T15:22:55+08:00","message":"Config"}
07:22:55.813 INF Registered with discovery server. numPeers=4 ownID=1
07:22:55.814 INF Profiling enabled.
07:22:55.814 INF Setting up profiling.
07:22:55.814 INF Started Profiler: CPU
07:22:55.814 INF Started Profiler: BLOCK
07:22:55.814 INF Started Profiler: MUTEX
07:22:55.815 INF Profiler will stop on signal. exit=true
07:22:55.816 INF Tracing will stop on signal. exit=false
07:22:55.817 INF Started tracing. traceFile=experiment-output/0001/slave-004/peer.trc
07:22:55.818 DBG Starting backlog.
07:22:55.818 INF Listening for connections. port=10011 useTLS=false
07:22:55.818 INF Connecting to peer. addr=127.0.0.1:10011 basicConns=4 priorityConns=2
07:22:55.818 INF Connecting to peer. addr=127.0.0.1:10022 basicConns=4 priorityConns=2
07:22:55.818 INF Connecting to peer. addr=127.0.0.1:10033 basicConns=4 priorityConns=2
07:22:55.818 INF Connecting to peer. addr=127.0.0.1:10000 basicConns=4 priorityConns=2
07:22:55.840 INF Incoming connection for protocol messages. addr=127.0.0.1:44680
07:22:55.841 INF Incoming connection for protocol messages. addr=127.0.0.1:44710
07:22:55.844 INF Incoming connection for protocol messages. addr=127.0.0.1:44686
07:22:55.844 INF Incoming connection for protocol messages. addr=127.0.0.1:44716
07:22:55.844 INF Incoming connection for protocol messages. addr=127.0.0.1:44738
07:22:55.845 INF Incoming connection for protocol messages. addr=127.0.0.1:44682
07:22:55.845 INF Incoming connection for protocol messages. addr=127.0.0.1:44712
07:22:55.845 INF Incoming connection for protocol messages. addr=127.0.0.1:44714
07:22:55.846 INF Incoming connection for protocol messages. addr=127.0.0.1:44744
07:22:55.849 INF Incoming connection for protocol messages. addr=127.0.0.1:44752
07:22:55.850 INF Incoming connection for protocol messages. addr=127.0.0.1:44766
07:22:55.850 INF Incoming connection for protocol messages. addr=127.0.0.1:44758
07:22:55.850 INF Incoming connection for protocol messages. addr=127.0.0.1:44794
07:22:55.850 DBG Connected. peerID=1
07:22:55.852 DBG Connected. peerID=2
07:22:55.853 INF Incoming connection for protocol messages. addr=127.0.0.1:44806
07:22:55.854 INF Incoming connection for protocol messages. addr=127.0.0.1:44846
07:22:55.854 INF Incoming connection for protocol messages. addr=127.0.0.1:44848
07:22:55.854 INF Incoming connection for protocol messages. addr=127.0.0.1:44818
07:22:55.855 INF Incoming connection for protocol messages. addr=127.0.0.1:44838
07:22:55.855 INF Incoming connection for protocol messages. addr=127.0.0.1:44864
07:22:55.857 DBG Connected. peerID=0
07:22:55.862 INF Incoming connection for protocol messages. addr=127.0.0.1:44824
07:22:55.862 INF Incoming connection for protocol messages. addr=127.0.0.1:44770
07:22:55.862 INF Incoming connection for protocol messages. addr=127.0.0.1:44798
07:22:55.863 INF Incoming connection for protocol messages. addr=127.0.0.1:44772
07:22:55.864 INF Incoming connection for protocol messages. addr=127.0.0.1:44792
07:22:55.867 INF Connected to all peers.
07:22:55.867 DBG Connected. peerID=3
07:22:55.872 INF All peers finished connecting. Starting ISS.
07:22:55.873 DBG Buckets for 0-th leader 0: [0 4 8 12 16 20 24 28 32 36 40 44 48 52 56 60 6 18 30 42 54]
07:22:55.873 DBG Buckets for 1-th leader 1: [1 5 9 13 17 21 25 29 33 37 41 45 49 53 57 61 10 22 34 46 58]
07:22:55.873 DBG Buckets for 2-th leader 3: [3 7 11 15 19 23 27 31 35 39 43 47 51 55 59 63 2 14 26 38 50 62]
07:22:55.873 INF PbftOrderer received a new segment: [1 4 7 10 13 16 19 22 25 28 31 34 37 40 43 46 49 52 55 58 61 64 67 70 73 76 79 82 85 88 91 94 97 100 103 106 109 112 115 118 121 124 127 130 133 136 139 142 145 148 151 154 157 160 163 166 169 172 175 178 181 184 187 190] first leader=1 firstSN=1 lastSN=190 len=64 length=64 segId=1
07:22:55.873 INF Starting new view. segID=1 timeout=60000 view=0
07:22:55.874 DBG Starting timer. sn=1 view=0
07:22:55.874 INF Starting PBFT instance. first=1 last=190 segID=1
07:22:55.874 DBG Subscribing to backlog. segID=1
07:22:55.874 INF Starting serialized message processing. segID=1
07:22:55.874 DBG Leading segment. segID=1
07:22:55.874 DBG Waiting for batch. batchSize=4096
07:22:55.874 INF PbftOrderer received a new segment: [2 5 8 11 14 17 20 23 26 29 32 35 38 41 44 47 50 53 56 59 62 65 68 71 74 77 80 83 86 89 92 95 98 101 104 107 110 113 116 119 122 125 128 131 134 137 140 143 146 149 152 155 158 161 164 167 170 173 176 179 182 185 188 191] first leader=3 firstSN=2 lastSN=191 len=64 length=64 segId=2
07:22:55.875 INF Starting new view. segID=2 timeout=60000 view=0
07:22:55.875 DBG Starting timer. sn=2 view=0
07:22:55.875 INF Starting PBFT instance. first=2 last=191 segID=2
07:22:55.875 DBG Subscribing to backlog. segID=2
07:22:55.875 INF Starting serialized message processing. segID=2
07:22:55.875 INF PbftOrderer received a new segment: [0 3 6 9 12 15 18 21 24 27 30 33 36 39 42 45 48 51 54 57 60 63 66 69 72 75 78 81 84 87 90 93 96 99 102 105 108 111 114 117 120 123 126 129 132 135 138 141 144 147 150 153 156 159 162 165 168 171 174 177 180 183 186 189] first leader=0 firstSN=0 lastSN=189 len=64 length=64 segId=0
07:22:55.876 INF Starting new view. segID=0 timeout=60000 view=0
07:22:55.876 DBG Starting timer. sn=0 view=0
07:22:55.876 INF Starting PBFT instance. first=0 last=189 segID=0
07:22:55.876 DBG Subscribing to backlog. segID=0
07:22:55.876 INF Starting serialized message processing. segID=0
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44838
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44818
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44794
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44864
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44738
07:22:55.901 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44716
07:22:57.906 INF Incoming connection for requests. addr=127.0.0.1:44882
07:23:25.875 DBG Batch ready. batchSize=4096
07:23:25.878 DBG Batch cut. left=0 nBuckets=21 nReq=2348 next=0
07:23:25.879 DBG Waiting for batch. batchSize=4096
07:23:25.936 INF Sending PREPREPARE. nReq=2348 senderID=1 sn=1 view=0
07:23:26.121 ERR Failed to send protocol message. Dropping all future outgoing protocol messages. error=EOF
07:23:26.149 INF Handling PREPREPARE. nReq=2349 senderID=0 sn=0
07:23:26.149 DBG Creating new Batch. nReq=2349
07:23:26.221 INF Handling PREPREPARE. nReq=2460 senderID=3 sn=2
07:23:26.221 DBG Creating new Batch. nReq=2460
07:23:26.423 DBG Sending PREPARE. senderID=1 sn=0 view=0
07:23:26.423 DBG Sending COMMIT. senderID=1 sn=0 view=0
07:23:26.429 INF Committed entry. latency=0 nReq=2349 sn=0
07:23:26.430 INF Delivered batch. nReq=2349 sn=0
07:23:26.430 DBG Starting timer. sn=3 view=0
07:23:26.433 DBG Sending COMMIT. senderID=1 sn=1 view=0
07:23:26.438 INF Committed entry. latency=0 nReq=2348 sn=1
07:23:26.438 INF Delivered batch. nReq=2348 sn=1
07:23:26.438 DBG Starting timer. sn=4 view=0
07:23:26.467 DBG Sending PREPARE. senderID=1 sn=2 view=0
07:23:26.468 DBG Sending COMMIT. senderID=1 sn=2 view=0
07:23:26.475 INF Committed entry. latency=0 nReq=2460 sn=2
07:23:26.475 INF Delivered batch. nReq=2460 sn=2
07:23:26.475 DBG Starting timer. sn=5 view=0
07:23:55.880 DBG Batch ready. batchSize=4096
07:23:55.881 DBG Batch cut. left=0 nBuckets=21 nReq=173 next=0
07:23:55.882 DBG Waiting for batch. batchSize=4096
07:23:55.885 INF Sending PREPREPARE. nReq=173 senderID=1 sn=4 view=0
07:23:55.901 INF Handling PREPREPARE. nReq=172 senderID=0 sn=3
07:23:55.901 DBG Creating new Batch. nReq=172
07:23:55.905 INF Handling PREPREPARE. nReq=180 senderID=3 sn=5
07:23:55.905 DBG Creating new Batch. nReq=180
07:23:55.924 DBG Sending PREPARE. senderID=1 sn=3 view=0
07:23:55.925 DBG Sending COMMIT. senderID=1 sn=3 view=0
07:23:55.925 DBG Sending COMMIT. senderID=1 sn=4 view=0
07:23:55.927 INF Committed entry. latency=0 nReq=173 sn=4
07:23:55.927 DBG Starting timer. sn=7 view=0
07:23:55.927 DBG Sending PREPARE. senderID=1 sn=5 view=0
07:23:55.928 INF Committed entry. latency=0 nReq=172 sn=3
07:23:55.928 INF Delivered batch. nReq=172 sn=3
07:23:55.928 INF Delivered batch. nReq=173 sn=4
07:23:55.928 DBG Starting timer. sn=6 view=0
07:23:55.929 DBG Sending COMMIT. senderID=1 sn=5 view=0
07:23:55.932 INF Committed entry. latency=0 nReq=180 sn=5
07:23:55.932 INF Delivered batch. nReq=180 sn=5
07:23:55.932 DBG Starting timer. sn=8 view=0
07:23:56.932 INF Connection terminated. error="rpc error: code = Canceled desc = context canceled" address=127.0.0.1:44882
07:23:56.933 INF Finished sending bucket assignments to client. clId=0
07:23:57.308 INF Stopping profiler.
07:23:57.308 INF Stopping Tracer. events=134 fileName=experiment-output/0001/slave-004/peer.trc
==================
WARNING: DATA RACE
Read at 0x00c0009b4000 by goroutine 115:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).StopOnSignal.func1()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:298 +0x4e

Previous write at 0x00c0009b4000 by goroutine 415:
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).Event()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:105 +0x2d9
  github.com/hyperledger-labs/mirbft/manager.(*MirManager).handleLogEntries()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/manager/mirmanager.go:139 +0x1d8
  github.com/hyperledger-labs/mirbft/manager.(*MirManager).Start·dwrap·7()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/manager/mirmanager.go:101 +0x47

Goroutine 115 (running) created at:
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).StopOnSignal()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:292 +0x172
  main.setUpTracing()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:204 +0xf5
  main.main()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:98 +0x9d6

Goroutine 415 (running) created at:
  github.com/hyperledger-labs/mirbft/manager.(*MirManager).Start()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/manager/mirmanager.go:101 +0x19e
  main.main·dwrap·4()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:168 +0x59
==================
==================
WARNING: DATA RACE
Read at 0x00c0009b54c8 by goroutine 115:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).StopOnSignal.func1()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:298 +0x4e

Previous write at 0x00c0009b54c8 by goroutine 114:
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).Event()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:105 +0x2d9
  github.com/hyperledger-labs/mirbft/profiling.StartCPUTracing.func1()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/profiling/cpuusage.go:31 +0x95

Goroutine 115 (running) created at:
  github.com/hyperledger-labs/mirbft/tracing.(*BufferedTrace).StopOnSignal()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/tracing/bufferedtrace.go:292 +0x172
  main.setUpTracing()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:204 +0xf5
  main.main()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:98 +0x9d6

Goroutine 114 (running) created at:
  github.com/hyperledger-labs/mirbft/profiling.StartCPUTracing()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/profiling/cpuusage.go:28 +0xb6
  main.setUpTracing()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:196 +0x85
  main.main()
      /opt/gopath/src/github.com/hyperledger-labs/mirbft/cmd/orderingpeer/main.go:98 +0x9d6
==================
07:23:57.311 INF Trace data written.
07:23:57.387 INF Profile data written. filename=experiment-output/0001/slave-004/prof.cpu name=cpu
07:23:57.451 INF Profile data written. filename=experiment-output/0001/slave-004/prof.block name=block
07:23:57.485 INF Profile data written. filename=experiment-output/0001/slave-004/prof.mutex name=mutex
